<!DOCTYPE html>

<html lang="en">
    <head>
      <title>Project 5</title>
        <link rel="stylesheet"
        href="styles.css">

      <meta name="description" content="Assignment 5 for COP4813">
      <meta name="keywords" content="HTML, CSS, JavaScript, Canvas">
      <meta name="author" content="Cheyenne Osborne">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>

    <body>
        <header>
            <nav>
              <ul>
                <li><a href="index.html">Home</a>
                  <div class="dropdown">
                    <button class="dropbtn">Assignments</button>
                      <div class="dropdown-content">
                        <a href="assignments.html">All Assignments</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-1/">Assignment 1</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-2/">Assignment 2</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-3/">Assignment 3</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-4/">Assignment 4</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-5/">Assignment 5</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-6/">Assignment 6</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-7/">Assignment 7</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-8/">Assignment 8</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-9/">Assignment 9</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-10/">Assignment 10</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-11/">Assignment 11</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-12/">Assignment 12</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-13/">Assignment 13</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-14/">Assignment 14</a>
                        <a href="http://roneaglin.online/cop4813/home/assignments/assignment-15/">Assignment 15</a>
                      </div>
                  </div>
                    
                    <div class="dropdown">
                      <button class="dropbtn">Projects</button>
                        <div class="dropdown-content">
                          <a href="other.html">All Projects</a>
                            <a href="index.html">Project 1</a>
                            <a href="assignment2.html">Project 2</a>
                            <a href="assignment3.html">Project 3</a>
                            <a href="assignment4.html">Project 4</a>
                            <a href="assignment5.html">Project 5</a>
                        </div>
                    </div>
              </li>
            </ul>
          </nav>
        </header>
        <h1>Project 5 - Drawing Canvas</h1>
        <div class="a"><p>This is a Spirograph. 
          <br>
          Refresh the page for a new type of Spirograph with different values.
        <br>
        <p><a href="http://jsfiddle.net/cheyenne_osborne/ewku2dbv/">JSFiddle</a></p>
        
        <h2>Spirograph</h2>
        <div class="a">

            <button onclick="doDrawing();">Start Spirograph</button>
            <br>
            <br>
            <canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">
            Your browser does not support the HTML5 canvas tag.</canvas>

        <script>

        var R = Math.floor(Math.random() * Math.floor(100))
        var c = document.getElementById("myCanvas");
        var r = Math.floor(Math.random() * Math.floor(70))
        var O = Math.floor(Math.random() * Math.floor(100))
        var ctx = c.getContext("2d");


        function doDrawing() {
            t = 0;
            
            ctx.clear();
            
            var timesRun = 0;
            var color =  '#'+Math.floor(Math.random()*16777215).toString(16);


            var xCenter = c.width/2;
            var yCenter = c.height/2;
            let x = xCenter + Math.floor((R+r)*Math.cos(t) - (r+O)*Math.cos(((R+r)/r)*t));
            let y = yCenter + Math.floor((R+r)*Math.sin(t) - (r+O)*Math.sin(((R+r)/r)*t));
                
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.moveTo(x,y);

            var interval = setInterval(function() {
            timesRun += 1;
            if(timesRun === 1050) {
                clearInterval(interval); 
            }
                
            drawCircle();
            }, 20); 
            
        }
        
        function drawCircle() { 
        t += 0.1;
        
        var xCenter = c.width/2;
        var yCenter = c.height/2;
        let x = xCenter + Math.floor((R+r)*Math.cos(t) - (r+O)*Math.cos(((R+r)/r)*t));
        let y = yCenter + Math.floor((R+r)*Math.sin(t) - (r+O)*Math.sin(((R+r)/r)*t));
            
        ctx.lineTo(x,y);  
        ctx.stroke();
        }

        CanvasRenderingContext2D.prototype.clear = 
        CanvasRenderingContext2D.prototype.clear || function (preserveTransform) {
            if (preserveTransform) {
            this.save();
            this.setTransform(1, 0, 0, 1, 0, 0);
            }

            this.clearRect(0, 0, this.canvas.width, this.canvas.height);

            if (preserveTransform) {
            this.restore();
            }           
        };
 
        </script>
        </div>
        </p></div>
        
        <div class="a"><footer><p>Contact Me: cheyenne_osborne@daytonastate.edu</p></footer></div>
    </body>

</html>